<!DOCTYPE html>
<html lang="en">
<head>
<link rel="icon" type="image/x-icon" href="favico.ico">
<meta charset="UTF-8" />
<title>XPSF</title>
<style>
  body {
    margin: 0;
    background-color: #000000;
    color: #00FF00;
    font-family: monospace;
    user-select: none;
  }
  #ui {
    position: absolute;
    top: 20px; left: 20px;
    max-width: 360px;
  }
  button {
    background: transparent;
    border: 2px solid #00FF00;
    color: #00FF00;
    font-family: monospace;
    font-size: 1.2rem;
    padding: 10px 25px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
  }
  button:hover {
    background-color: #00FF00;
    color: #000000;
  }
  #xpBarContainer {
    width: 300px;
    height: 20px;
    margin: 12px 0;
    border: 1px solid #00FF00;
    border-radius: 6px;
    overflow: hidden;
  }
  #xpBar {
    height: 100%;
    width: 0;
    background-color: #00FF00;
    transition: width 0.4s ease;
  }
  #result {
    min-height: 26px;
    margin-top: 8px;
  }
</style>
</head>
<body>
  <div id="ui">
    <div>Level: <span id="level">1</span></div>
    <div>Multiplier: <span id="multiplier">1.00x</span></div>
    <div>XP: <span id="xp">0</span> / <span id="xpRequired">200</span></div>
    <div id="xpBarContainer"><div id="xpBar"></div></div>
    <button id="fightBtn">Fight</button>
    <div id="result"></div>
  </div>

  <script>
    const levelEl = document.getElementById('level');
    const multiplierEl = document.getElementById('multiplier');
    const xpEl = document.getElementById('xp');
    const xpReqEl = document.getElementById('xpRequired');
    const xpBar = document.getElementById('xpBar');
    const resultEl = document.getElementById('result');
    const fightBtn = document.getElementById('fightBtn');

    let level = 1;
    let xp = 0;
    let xpRequired = 200;
    let multiplier = 1.0;

    function randomXPGain() {
      const choices = [20, 25, 30, 35, 40, 45, 50];
      return choices[Math.floor(Math.random() * choices.length)];
    }

    function updateUI() {
      levelEl.textContent = level;
      multiplierEl.textContent = multiplier.toFixed(2) + 'x';
      xpEl.textContent = Math.floor(xp);
      xpReqEl.textContent = xpRequired;
      xpBar.style.width = Math.min(xp / xpRequired, 1) * 300 + 'px';
    }

    function levelUp() {
      level++;
      xp -= xpRequired;
      const growth = 1 + (Math.random() * 0.2 + 0.05);
      xpRequired = Math.ceil((xpRequired * growth) / 25) * 25;
      resultEl.textContent = `LEVEL UP! Now Level ${level}`;
    }

    fightBtn.onclick = () => {
      resultEl.textContent = '';
      const win = Math.random() <= 0.75;
      if (win) {
        const baseXP = randomXPGain();
        const gained = baseXP * multiplier;
        xp += gained;
        multiplier += 0.025;
        resultEl.textContent = `YOU WIN! Gained ${Math.floor(gained)} XP.`;
        while (xp >= xpRequired) {
          levelUp();
        }
      } else {
        resultEl.textContent = `YOU LOSE! Multiplier reset to 1.00x.`;
        multiplier = 1.0;
      }
      updateUI();
    };

    updateUI();
  </script>
</body>
</html>
